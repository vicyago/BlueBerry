<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>SiteBlueBerryCamisetasOrÃ§amento</title>
    <link rel="stylesheet" type="text/css" href="assets/css/tshirt.css">
    <link rel="stylesheet" type="text/css" href="assets/css/main.css">
  </head>

  <body>
    <header>
      <div class="header">
        Entre em contato conosco ðŸ“ž (19) 3231-2968 ðŸ“«
        <a
          href="mailto:marildablueberry@uol.com.br"
          title="email"
          role="link"
          tabindex="0"
          target="blank"
          >marildablueberry@uol.com.br</a
        >
      </div>
    </header>
    <div class="pos_header">
      <div class="logoHolder">
        <div class="logo"><img src="assets/images/header-logo.png" /></div>
        <div class="logo"><img src="assets/images/bottom-logo.png" /></div>
      </div>

      <nav>
        <div class="navbar">
          <div class="contentHolder">
            <div class="content"><a href="index.html">Home</a></div>
            <div class="content"><a href="orcamento.html">OrÃ§amento</a></div>
            <div class="content"><a href="about.html">Sobre NÃ³s</a></div>
          </div>
        </div>
      </nav>
    </div>
    <div class="mainHolder">
      <div class="bannerHolder">
        <div class="banner">
          
    <!-- Create the container of the tool -->
        <div id="tshirt-div">
            <!-- 
                Initially, the image will have the background tshirt that has transparency
                So we can simply update the color with CSS or JavaScript dinamically
            -->
            <img id="tshirt-backgroundpicture" src="./background_tshirt.png"/>

            <div id="drawingArea" class="drawing-area">					
                <div class="canvas-container">
                    <canvas id="tshirt-canvas" width="200" height="400"></canvas>
                </div>
            </div>
        </div>
        
        <p>To remove a loaded picture on the T-Shirt select it and press the <kbd>DEL</kbd> key.</p>
        <!-- The select that will allow the user to pick one of the static designs -->
        <br>
        <label for="tshirt-design">T-Shirt Design:</label>
        <select id="tshirt-design">
            <option value="">Select one of our designs ...</option>
            <option value="./batman_small.png">Batman</option>
        </select>

        <!-- The Select that allows the user to change the color of the T-Shirt -->
        <br><br>
        <label for="tshirt-color">T-Shirt Color:</label>
        <select id="tshirt-color">
            <!-- You can add any color with a new option and definings its hex code -->
            <option value="#fff">White</option>
            <option value="#000">Black</option>
            <option value="#f00">Red</option>
            <option value="#008000">Green</option>
            <option value="#ff0">Yellow</option>
        </select>

        <br><br>
        <label for="tshirt-custompicture">Upload your own design:</label>
        <input type="file" id="tshirt-custompicture" />
       
    </div>    
    </div>

      <div class="subFooter">
        <div class="holderText2">
          <h3>
           Create your own T-Shirt Designer 
          </h3>

          <ul>
            <li>    The user should be able to upload a custom picture that will be placed on the T-Shirt.
    The user will be able to resize the images and load as well your own designs.

            </li>
          </ul>
          <hr />  
          <button class="main-button">
            <a
              href="#"
              title="desing"
              role="link"
              tabindex="0"
              target="blank"
              >Submeter Desing</a
            >
          </button>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>

        <p>
          Copyright &copy; 2022 | BlueBerryCamisetas | Designed By:
          <a href="https://www.facebook.com/victoryagoc">Victor Yago Cury</a>
        </p>
      </div>
    </footer>
    <script src="assets/javascript/fabric.js"></script>
    <script src="assets/javascript/fabric.min.js"></script>
    <script>
            let canvas = new fabric.Canvas('tshirt-canvas');

            function updateTshirtImage(imageURL){
                fabric.Image.fromURL(imageURL, function(img) {                   
                    img.scaleToHeight(300);
                    img.scaleToWidth(300); 
                    canvas.centerObject(img);
                    canvas.add(img);
                    canvas.renderAll();
                });
            }
            
            // Update the TShirt color according to the selected color by the user
            document.getElementById("tshirt-color").addEventListener("change", function(){
                document.getElementById("tshirt-div").style.backgroundColor = this.value;
            }, false);

            // Update the TShirt color according to the selected color by the user
            document.getElementById("tshirt-design").addEventListener("change", function(){

                // Call the updateTshirtImage method providing as first argument the URL
                // of the image provided by the select
                updateTshirtImage(this.value);
            }, false);

            // When the user clicks on upload a custom picture
            document.getElementById('tshirt-custompicture').addEventListener("change", function(e){
                var reader = new FileReader();
                
                reader.onload = function (event){
                    var imgObj = new Image();
                    imgObj.src = event.target.result;

                    // When the picture loads, create the image in Fabric.js
                    imgObj.onload = function () {
                        var img = new fabric.Image(imgObj);

                        img.scaleToHeight(300);
                        img.scaleToWidth(300); 
                        canvas.centerObject(img);
                        canvas.add(img);
                        canvas.renderAll();
                    };
                };

                // If the user selected a picture, load it
                if(e.target.files[0]){
                    reader.readAsDataURL(e.target.files[0]);
                }
            }, false);

            // When the user selects a picture that has been added and press the DEL key
            // The object will be removed !
            document.addEventListener("keydown", function(e) {
                var keyCode = e.keyCode;

                if(keyCode == 46){
                    console.log("Removing selected element on Fabric.js on DELETE key !");
                    canvas.remove(canvas.getActiveObject());
                }
            }, false);
        </script>
  </body>
</html>
